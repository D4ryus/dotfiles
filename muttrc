# file: ~/.muttrc
# author: d4ryus https://github.com/d4ryus

source "gpg -dq $HOME/.mutt/my_mutt.gpg |"
#source $HOME/.mutt/colorscheme

set ssl_force_tls    = yes
set header_cache     = ~/.mutt/cache
set message_cachedir = ~/.mutt/cache
set mailcap_path     = ~/.mutt/mailcap
auto_view         text/html
alternative_order text/palin text/html
bind pager j next-line
bind pager k previous-line

# imap settings
set folder           = imaps://imap.mail.yahoo.com
set imap_user        = $my_mail
set imap_pass        = $my_pass
set imap_keepalive   = 1800
mailboxes            = INBOX
set spoolfile        = +INBOX

# smtp settings
set smtp_url         = smtps://$my_mail:$my_pass@smtp.mail.yahoo.com:465
set editor           = "vim"
set realname         = $my_name
set from             = $my_mail
set use_from         = yes
set record           = +Sent

# gpg settings
set pgp_decode_command       = "gpg %?p?--passphrase-fd 0? --no-verbose --batch --output - %f"
set pgp_verify_command       = "gpg --no-verbose --batch --output - --verify %s %f"
set pgp_decrypt_command      = "gpg --passphrase-fd 0 --no-verbose --batch --output - %f"
set pgp_sign_command         = "gpg --no-verbose --batch --output - --passphrase-fd 0 --armor --detach-sign --textmode %?a?-u %a? %f"
set pgp_clearsign_command    = "gpg --no-verbose --batch --output - --passphrase-fd 0 --armor --textmode --clearsign %?a?-u %a? %f"
set pgp_encrypt_only_command = "pgpewrap gpg --batch --quiet --no-verbose --output - --encrypt --textmode --armor --always-trust --encrypt-to 0x41AA62B2 -- -r %r -- %f"
set pgp_encrypt_sign_command = "pgpewrap gpg --passphrase-fd 0 --batch --quiet --no-verbose --textmode --output - --encrypt --sign %?a?-u %a? --armor --always-trust --encrypt-to 0x41AA62B2 -- -r %r -- %f"
set pgp_import_command       = "gpg --no-verbose --import -v %f"
set pgp_export_command       = "gpg --no-verbose --export --armor %r"
set pgp_verify_key_command   = "gpg --no-verbose --batch --fingerprint --check-sigs %r"
set pgp_list_pubring_command = "gpg --no-verbose --batch --with-colons --list-keys %r"
set pgp_list_secring_command = "gpg --no-verbose --batch --with-colons --list-secret-keys %r"
set pgp_autosign             = yes
set pgp_sign_as              = 0x41AA62B2
set pgp_replyencrypt         = yes
set pgp_timeout              = 900
